[{"/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/index.js":"1","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/reportWebVitals.js":"2","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/App.js":"3","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Header/index.js":"4","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/pages/Home/index.js":"5","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Card/index.js":"6","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Label/index.js":"7","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Input/index.js":"8","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/pages/Login/index.js":"9","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Modal/index.js":"10","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Button/index.js":"11","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/pages/Movie/index.js":"12","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/hooks/index.js":"13","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/utils/index.js":"14"},{"size":288,"mtime":1608876471573,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1608712106005,"results":"17","hashOfConfig":"16"},{"size":1017,"mtime":1608929665300,"results":"18","hashOfConfig":"16"},{"size":1235,"mtime":1608980486226,"results":"19","hashOfConfig":"16"},{"size":1841,"mtime":1608975910432,"results":"20","hashOfConfig":"16"},{"size":272,"mtime":1608728008952,"results":"21","hashOfConfig":"16"},{"size":179,"mtime":1608728008958,"results":"22","hashOfConfig":"16"},{"size":328,"mtime":1608969824458,"results":"23","hashOfConfig":"16"},{"size":2298,"mtime":1608969842435,"results":"24","hashOfConfig":"16"},{"size":534,"mtime":1608728008960,"results":"25","hashOfConfig":"16"},{"size":205,"mtime":1608925326529,"results":"26","hashOfConfig":"16"},{"size":2936,"mtime":1608974709909,"results":"27","hashOfConfig":"16"},{"size":425,"mtime":1608978186457,"results":"28","hashOfConfig":"16"},{"size":230,"mtime":1608975471640,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"105ktzm",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"32"},"/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/index.js",[],["65","66"],"/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/reportWebVitals.js",[],"/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/App.js",[],"/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Header/index.js",["67"],"import { useLocalStorage } from \"../../hooks\";\nimport {useState} from 'react';\nimport './styles.css';\nimport Input from '../Input';\nconst  Header = ({setSearchedMovie, setAuthModal}) => {\n  const [userData, setUserData] = useLocalStorage('token');\n  const [showMenu, setShowMenu] = useState(false);\n  const handleThumbClick = () => setShowMenu(!showMenu);\n\n  const handleSearch = (e) => {\n    setSearchedMovie(e.target.value);\n  }\n\n  const handleLoginModal = () => {\n    setAuthModal(true);\n    setShowMenu(false);\n    // console.log(token);\n  }\n\n  const handleLogout = () => {\n    setUserData(''); \n  }\n\n  return (\n    <div className=\"header\">\n      <div className=\"header-content\">\n        <Input placeholder=\"Search Movie\" onChange={handleSearch}/>\n        <div className=\"dropdown\">\n          <button className=\"user-thumb\" onClick={handleThumbClick}>\n            <img src={'./smile.svg'}/>\n          </button>\n          {showMenu && <div className=\"menu\">\n            <ul>\n              {!userData?.token && <li onClick={handleLoginModal}>login</li>}\n              {userData?.token && <li onClick={handleLogout}>logout</li>}\n            </ul>\n          </div>}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header;\n","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/pages/Home/index.js",["68","69"],"import {useEffect, useState} from 'react';\nimport {convertToken} from '../../utils'\nimport {useLocalStorage} from '../../hooks'\nimport Card from '../../components/Card';\nimport Label from '../../components/Label';\nimport Movie from '../Movie';\nimport './styles.css';\nimport Button from '../../components/Button';\n\nconst Home = ({movieList}) => {\n  const [movieModal, setMovieModal] = useState(false);\n  const [userData, setUserData] = useLocalStorage('token');\n  const [currentMovie, setCurrentMovie] = useState(null);\n  const [access, setAccess] = useState(false);\n\n  useEffect(() => {\n    const info = convertToken(userData?.token);\n    \n    if (info && info.access === 'ADMIN') {\n      setAccess(true)\n    }\n  }, []);\n\n  const handleClick = (item) => {\n    setMovieModal(true)\n    setCurrentMovie(item);\n  }\n\n  const handleClickMovieAdd = () => {\n    setMovieModal(true);\n    setCurrentMovie(null);\n  }\n\n  return (\n    <div className=\"home\">\n      {access && \n      <div className=\"add-container\">\n        <Button onClick={handleClickMovieAdd}>ADD MOVIE</Button>\n      </div>\n      }\n      <div className=\"movie-grid\">\n      {\n        movieList.map((movie, index) => \n          <Card \n            title={movie.name} \n            key={`${index}`} \n            onClick={()=>handleClick(movie)}\n          >\n            <p>by- {movie.director}</p>\n            <p>IMDB score {movie.imdb_score}</p>\n            <p>99popularity score {movie['99popularity']}</p>\n            <span className=\"genre-list\">genre {movie.genre?.map((it, index)=> \n            (<Label key={`${index}`}>{it}</Label>))}</span>\n          </Card>\n          )\n      }\n      </div>\n      {access && <Movie \n        movieModal={movieModal} \n        setMovieModal={setMovieModal}\n        currentMovie={currentMovie}  \n      />}\n    </div>\n  );\n}\n\nexport default Home;        \n","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Card/index.js",["70"],"import React, { Children } from 'react'\nimport './styles.css';\n\nconst Card = ({title, children, onClick}) => {\n  return (\n    <div className=\"card\" onClick={onClick}>\n      <h4>{title}</h4>\n      <div>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default Card\n","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Label/index.js",[],"/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Input/index.js",[],"/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/pages/Login/index.js",["71"],"import {useLocalStorage} from '../../hooks';\nimport {useState} from 'react';\nimport './styles.css';\nimport Modal from '../../components/Modal';\nimport Button from '../../components/Button';\nimport Input from '../../components/Input';\n\nconst Login = ({authModal, setAuthModal}) => {\n  const [mode, setMode] = useState('LOGIN');\n  const [token, setToken] = useLocalStorage('token', '');\n  const [authForm, setAuthForm] = useState({\n    username: '',\n    password: '',\n  });\n  const switchMode = () => mode==='LOGIN' ? 'REGISTER' : 'LOGIN';\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if(mode=== 'LOGIN') handleSubmitLogin();\n    if(mode=== 'REGISTER') handleSubmitRegister();\n  }\n\n  const handleSubmitLogin = async() => {\n    try {\n      const raw = await fetch('/api/user/token', {\n        headers: {'Content-Type': 'application/json'},\n        method: 'POST',\n        body: JSON.stringify(authForm), \n      });\n      const data = await raw.json();\n      setToken(data);\n      setAuthModal(false);\n      console.log(data);\n    } catch(error) {\n      console.log(error)\n    }\n  }\n  \n  const handleSubmitRegister = async() => {\n    try {\n      const raw = await fetch('/api/user/create', {\n        headers: {'Content-Type': 'application/json'},\n        method: 'POST',\n        body: JSON.stringify({...authForm, access: 'BASIC'}), \n      });\n      const data = await raw.json();\n      console.log(data);\n    } catch(error) {\n      console.log(error)\n    }\n  }\n  \n  const handleChange = (e) => {\n    setAuthForm({\n      ...authForm,\n      [e.target.name]: e.target.value,\n    });\n  }\n\n  const handleCancel = () => {\n    setAuthModal(false);\n  }\n\n  return (\n    <Modal \n      toggle={authModal}\n      onClose={handleCancel}\n    >\n      <form onSubmit={handleSubmit}>\n        <div className=\"auth-form\">\n        <Input name=\"username\" placeholder=\"username\" value={authForm.username} onChange={handleChange}/>\n        <Input type=\"password\" name=\"password\" placeholder=\"password\" value={authForm.password} onChange={handleChange}/>\n        <Button type=\"submit\">{mode}</Button><br/>\n        <div className=\"or-divider\">--or--</div>\n        <Button onClick={()=> setMode(switchMode())}>{switchMode()}</Button>\n        </div>\n      </form>\n    </Modal>\n  )\n}\n\nexport default Login; \n","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Modal/index.js",[],"/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/components/Button/index.js",[],"/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/pages/Movie/index.js",[],"/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/hooks/index.js",["72"],"import { useState, useEffect } from 'react';\nexport const useLocalStorage = (key, initialValue) => {\n  const [localStore, setLocalStore] = useState(()=>{\n    const storedItem = localStorage.getItem(key);\n    return storedItem ? JSON.parse(storedItem) : initialValue;\n  });\n  const setValue = (value) => {\n    setLocalStore(value);\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n  return [localStore, setValue];\n}\n\n","/Users/ujwal/Desktop/UJwal/projects/movie-repo/src/utils/index.js",["73","74"],"export const convertToken = (token) => {\n    if(token) {\n      const [algo, userInfo] = token?.split('.');\n      if (userInfo){\n        return JSON.parse(atob(userInfo))\n      }\n    }\n  }\n  \n  export default {\n    convertToken\n  }",{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":30,"column":13,"nodeType":"81","endLine":30,"endColumn":39},{"ruleId":"82","severity":1,"message":"83","line":12,"column":20,"nodeType":"84","messageId":"85","endLine":12,"endColumn":31},{"ruleId":"86","severity":1,"message":"87","line":22,"column":6,"nodeType":"88","endLine":22,"endColumn":8,"suggestions":"89"},{"ruleId":"82","severity":1,"message":"90","line":1,"column":17,"nodeType":"84","messageId":"85","endLine":1,"endColumn":25},{"ruleId":"82","severity":1,"message":"91","line":10,"column":10,"nodeType":"84","messageId":"85","endLine":10,"endColumn":15},{"ruleId":"82","severity":1,"message":"92","line":1,"column":20,"nodeType":"84","messageId":"85","endLine":1,"endColumn":29},{"ruleId":"82","severity":1,"message":"93","line":3,"column":14,"nodeType":"84","messageId":"85","endLine":3,"endColumn":18},{"ruleId":"94","severity":1,"message":"95","line":10,"column":3,"nodeType":"96","endLine":12,"endColumn":4},"no-native-reassign",["97"],"no-negated-in-lhs",["98"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-unused-vars","'setUserData' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'userData?.token'. Either include it or remove the dependency array.","ArrayExpression",["99"],"'Children' is defined but never used.","'token' is assigned a value but never used.","'useEffect' is defined but never used.","'algo' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation",{"desc":"100","fix":"101"},"Update the dependencies array to be: [userData?.token]",{"range":"102","text":"103"},[716,718],"[userData?.token]"]